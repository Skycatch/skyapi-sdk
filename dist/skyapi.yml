openapi: 3.0.1
info:
  title: SkyAPI
  version: 2.0.0
  description: Management layer on top of AWS and Processing Pipeline
  termsOfService: 'https://skycatch.com/terms/'
  contact:
    url: 'https://skycatch.com/contacts/'
    email: api@skycatch.com
  license:
    name: Apache 2.0
    url: 'http://www.apache.org/licenses/LICENSE-2.0.html'
externalDocs:
  url: 'https://docs.skycatch.com/v2.0.0/reference'
  description: SkyAPI Documentation
servers:
  - url: 'https://{environment}.skycatch.com/v2'
    variables:
      environment:
        description: The environment you are building the API for
        enum:
          - api
          - staging-api
        default: api
  - url: 'https://{tenant}.auth0.com/oauth/token'
    variables:
      tenant:
        description: The Auth0 tenant
        enum:
          - skycatch-development
          - skycatch-staging
          - skycatch-production
        default: skycatch-development
components:
  securitySchemes:
    auth0:
      name: auth0
      type: oauth2
      description: Used by organization apps
      flows:
        clientCredentials:
          tokenUrl: 'https://{tenant}.auth0.com/oauth/token'
          scopes: {}
paths:
  /ccrs/localization:
    post:
      tags:
        - ccrs
        - localizations
      summary: Creates a transform matrix for CCRS localization
      description: >-
        Parses a localization file to create a new transform matrix to be used
        in a compound coordinate reference system (CCRS)
      operationId: createCCRSLocalization
      parameters:
        - name: version
          in: query
          description: >-
            The version of the localization library to use when calculating the
            transform matrix
          schema:
            type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - file
              additionalProperties: false
              type: object
              properties:
                file:
                  type: string
                  description: Localization data as base64 encoded binary
                units:
                  type: string
              description: Unit of measure
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        required:
                          - matrix
                          - controlPoints
                          - version
                        additionalProperties: false
                        type: object
                        properties:
                          version:
                            type: number
                            description: >-
                              The version of the localization library used when
                              calculating the transform matrix
                          controlPoints:
                            type: array
                            items:
                              type: object
                          matrix:
                            type: object
                            required:
                              - multi
                              - proj4
                              - center
                              - unitName
                              - unitAbbrv
                              - utm2local
                              - local2utm
                              - utmZone
                            additionalProperties: false
                            properties:
                              multi:
                                type: boolean
                              proj4:
                                type: string
                              center:
                                type: object
                              unitName:
                                type: string
                              unitAbbrv:
                                type: string
                              utm2local:
                                type: array
                                minItems: 4
                                maxItems: 4
                                items: &ref_0
                                  type: array
                                  minItems: 4
                                  maxItems: 4
                                  items:
                                    type: number
                              local2utm:
                                type: array
                                minItems: 4
                                maxItems: 4
                                items: *ref_0
                              utmZone:
                                type: string
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_1
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_1
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_1
  /credentials/filemanager:
    post:
      tags:
        - credentials
      summary: Create STS credentials for use in S3 File Manager
      description: Create STS credentials for use in S3 File Manager
      operationId: createFileManagerCredentials
      security:
        - auth0: []
      parameters:
        - name: authorization
          in: header
          description: Organization's access token
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              properties:
                site:
                  type: string
                  description: Site ID
                dataset:
                  type: string
                  description: Dataset UUID
                processing:
                  type: string
                  description: Processing UUID
                export:
                  type: string
                  description: Export UUID
                overlay:
                  type: string
                  description: Overlay UUID
                expiration:
                  type: number
                  description: Credentials expiration in seconds
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        type: object
                        required:
                          - accessKeyId
                          - secretAccessKey
                          - sessionToken
                          - expiration
                        additionalProperties: false
                        properties:
                          accessKeyId:
                            type: string
                          secretAccessKey:
                            type: string
                          sessionToken:
                            type: string
                          expiration:
                            type: string
                  - type: object
                    required:
                      - buckets
                    properties:
                      buckets:
                        type: array
                        description: Meta data about the granted bucket access
                        items:
                          type: object
                          required:
                            - type
                            - bucket
                            - prefix
                            - access
                          additionalProperties: false
                          properties:
                            type:
                              type: string
                            bucket:
                              type: string
                            prefix:
                              type: string
                            access:
                              type: string
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_2
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_2
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_2
  /datasets:
    post:
      tags:
        - datasets
      summary: Creates a dataset
      description: Creates a new dataset in the customer's account
      operationId: createDataset
      security:
        - auth0: []
      parameters:
        - name: authorization
          in: header
          description: Organization's access token
          required: true
          schema:
            type: string
        - name: token
          in: query
          description: User access token
          required: false
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - name
              properties:
                name:
                  type: string
                  description: Dataset name
                sourceId:
                  type: string
                  description: ' The source ID in the app creating the dataset. If passed in it will be used as the name for the s3 object dir in place of the DUUID as long a it does not already exist. '
                type:
                  type: string
                  description: The dataset type
                  enum:
                    - photogrammetry
                    - preprocessedfiles
                    - designfiles
                    - flight1
                    - edge1
                    - l1
                    - basemap
                  default: photogrammetry
                metadata:
                  type: object
                  description: Metadata about the dataset
                duration:
                  type: number
                  description: Upload duration in hours
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        type: object
                        required:
                          - id
                          - uuid
                          - name
                          - createdAt
                        additionalProperties: false
                        properties:
                          id:
                            type: string
                          uuid:
                            type: string
                          name:
                            type: string
                          sourceId:
                            type: string
                          type:
                            type: string
                          metadata:
                            type: object
                          createdAt:
                            type: string
                            format: date-time
                          userId:
                            type: string
                          owner:
                            type: string
                  - type: object
                    properties:
                      credentials:
                        type: object
                        required:
                          - accessKeyId
                          - secretAccessKey
                          - sessionToken
                          - expiration
                          - bucket
                        additionalProperties: false
                        properties:
                          accessKeyId:
                            type: string
                          secretAccessKey:
                            type: string
                          sessionToken:
                            type: string
                          expiration:
                            type: string
                          bucket:
                            type: string
                            description: Bucket name
                          key:
                            type: string
                            description: Processing job UUID
        '400':
          description: Bad request
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
          content:
            application/json:
              schema: &ref_3
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          content: {}
        5XX:
          description: Server error
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
          content:
            application/json:
              schema: *ref_3
  '/datasets/{uuid}':
    get:
      tags:
        - dataset
      summary: Get a dataset
      description: Get a dataset by id from the customer's account
      operationId: getDataset
      security:
        - auth0: []
      parameters:
        - name: uuid
          in: path
          description: Dataset identifier
          required: true
          schema:
            type: string
        - name: exif
          in: query
          description: Fetch additional EXIF information for RAW photos in this dataset.
          required: false
          schema:
            type: boolean
        - name: credentials
          in: query
          description: Generate upload credentials
          required: false
          schema:
            type: boolean
        - name: duration
          in: query
          description: Upload credentials duration in hours
          required: false
          schema:
            type: number
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        required:
                          - uuid
                          - name
                          - createdAt
                        additionalProperties: false
                        type: object
                        properties:
                          uuid:
                            type: string
                            description: Dataset Identifier
                          name:
                            type: string
                            description: Dataset name
                          type:
                            type: string
                            description: Dataset type
                          userId:
                            type: string
                            description: Dataset owner identifier
                          owner:
                            type: string
                            description: Dataset owner
                          sourceId:
                            type: string
                            description: Application specific identifier
                          metadata:
                            type: object
                            description: Dataset specific metadata
                          createdAt:
                            type: string
                            format: date-time
                          updatedAt:
                            type: string
                            format: date-time
                      exif:
                        type: array
                        description: Array of RAW Photo EXIF metadata
                        items:
                          type: object
                          additionalProperties: false
                          description: RAW Photo EXIF Metadata
                          properties:
                            name:
                              type: string
                              description: Photo filename
                            id:
                              type: string
                              description: Photo identifier
                            height:
                              type: number
                              description: Photo altitude from Drone
                            lat:
                              type: number
                              description: Photo latitude
                            lon:
                              type: number
                              description: Photo longitude
                            cameraModel:
                              type: string
                              description: Photo camera model
                      credentials:
                        type: object
                        required:
                          - accessKeyId
                          - secretAccessKey
                          - sessionToken
                          - expiration
                          - bucket
                        additionalProperties: false
                        properties:
                          accessKeyId:
                            type: string
                          secretAccessKey:
                            type: string
                          sessionToken:
                            type: string
                          expiration:
                            type: string
                          bucket:
                            type: string
                            description: Bucket name
                          key:
                            type: string
                            description: Processing job UUID
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_4
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_4
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_4
    patch:
      tags:
        - datasets
      summary: Updates a datasets
      description: Updates the dataset name
      operationId: updateDataset
      security:
        - auth0: []
      parameters:
        - name: uuid
          in: path
          description: Dataset identifier
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              additionalProperties: false
              type: object
              properties:
                name:
                  type: string
                  description: Dataset name
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        required:
                          - uuid
                          - name
                          - createdAt
                        additionalProperties: true
                        type: object
                        properties:
                          uuid:
                            type: string
                            description: Dataset Identifier
                          name:
                            type: string
                            description: Dataset name
                          type:
                            type: string
                            description: Dataset type
                          userId:
                            type: string
                            description: Dataset owner identifier
                          owner:
                            type: string
                            description: Dataset owner
                          sourceId:
                            type: string
                            description: Application specific identifier
                          metadata:
                            type: object
                            description: Dataset specific metadata
                          createdAt:
                            type: string
                            format: date-time
                          updatedAt:
                            type: string
                            format: date-time
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_5
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_5
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_5
  '/datasets/{uuid}/photos/{id}':
    get:
      tags:
        - datasets
        - photos
      summary: Get Photo Metadata
      description: Get Metadata for a RAW Drone Photo in a customer's account
      operationId: getDatasetPhoto
      security:
        - auth0: []
      parameters:
        - name: authorization
          in: header
          description: M2M access token
          required: true
          schema:
            type: string
        - name: uuid
          in: path
          description: The dataset identifier
          required: true
          schema:
            type: string
        - name: id
          in: path
          description: The photo identifier
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        required:
                          - exif
                          - metadata
                          - photo
                        additionalProperties: false
                        type: object
                        properties:
                          exif:
                            type: object
                            required:
                              - name
                              - id
                              - height
                              - lat
                              - lon
                              - cameraModel
                            additionalProperties: false
                            properties:
                              name:
                                type: string
                                description: Photo filename
                              id:
                                type: string
                                description: Photo identifier
                              height:
                                type: number
                                description: Photo altitude from Drone
                              lat:
                                type: number
                                description: Photo latitude
                              lon:
                                type: number
                                description: Photo longitude
                              cameraModel:
                                type: string
                                description: Photo camera model
                          metadata:
                            type: object
                            required:
                              - eTag
                              - contentLength
                              - contentType
                              - lastModified
                              - custom
                            properties:
                              eTag:
                                type: string
                                description: ETag for this resource
                              contentLength:
                                type: number
                                description: Size of the body in bytes
                              contentType:
                                type: string
                                description: >-
                                  A standard MIME type describing the format of
                                  the object data
                              lastModified:
                                type: string
                                description: Last modified date of the object
                              custom:
                                type: object
                                description: >-
                                  A map of custom metadata stored with the
                                  object in S3
                          photo:
                            type: object
                            required:
                              - url
                              - expires
                            additionalProperties: false
                            properties:
                              url:
                                type: string
                                description: The signed Cloudfront URL
                              expires:
                                type: number
                                description: URL expiry timestamp
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_6
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_6
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_6
  '/datasets/{uuid}/processes':
    get:
      tags:
        - processing_job
      summary: Gets a list of jobs
      description: Gets a list of jobs
      operationId: listProcessingJobs
      security:
        - auth0: []
      parameters:
        - name: uuid
          in: path
          description: Dataset ID
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - next
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      next:
                        type: string
                        description: Link to next set of items
                      type:
                        type: string
                        description: Response item data type
                      data:
                        type: array
                        description: List of items
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          required:
                            - datasetId
                            - state
                            - stateCode
                            - stage
                            - createdAt
                            - updatedAt
                          additionalProperties: false
                          properties:
                            id:
                              type: string
                            uuid:
                              type: string
                            owner:
                              type: string
                            userId:
                              type: string
                            datasetId:
                              type: string
                            state:
                              type: string
                            stateCode:
                              type: integer
                            statusCode:
                              type: integer
                            stage:
                              type: string
                            timeRemaining:
                              type: number
                            percentComplete:
                              type: number
                            createdAt:
                              type: string
                            updatedAt:
                              type: string
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_7
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_7
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_7
    post:
      tags:
        - processing_job
      summary: Start processing a dataset
      description: Initiates the processing of images or a point cloud in the dataset
      operationId: createProcessingJob
      security:
        - auth0: []
      parameters:
        - name: uuid
          in: path
          description: Dataset ID
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              properties:
                dryrun:
                  type: boolean
                  description: Create processing job entry without starting the job
                type:
                  type: string
                  description: Type of process to run
                  enum:
                    - photogrammetry
                    - preProcessedFiles
                    - images
                    - pointCloud
                    - publish
                  default: images
                sourceData:
                  type: string
                  description: Type of input images
                  enum:
                    - rgb_mixed
                    - rgb_nadir
                    - rgb_oblique
                ccrs:
                  type: object
                  description: >-
                    The definition of the custom coordinate reference system
                    used to generate outputs and parse inputs
                  properties:
                    output:
                      type: object
                      description: Input Parameters
                    input:
                      type: object
                      description: Output Parameters
                    transform:
                      type: object
                      description: Matrix Schema
                options:
                  type: object
                  description: Option flags to trigger custom behavior
                containerName:
                  type: string
                  description: Name of the partner storage container to sync back
                prefix:
                  type: string
                  description: Prefix for the partner storage container to sync back
                pointCloudColumnOrder:
                  type: string
                  description: >-
                    The column order of a point cloud. Only used for TXT point
                    clouds
                connectionString:
                  type: string
                  description: >-
                    Container string required to identify the repository source.
                    This is only needed for syncing
                resourceOwnerId:
                  type: string
                  description: Description
                accessToken:
                  type: string
                  description: Description
                refreshToken:
                  type: string
                  description: Description
                syncType:
                  type: string
                  description: Description
                metadata:
                  type: object
                  description: Metadata
                revision:
                  type: string
                  description: Pipeline revision to run
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        type: object
                        required:
                          - id
                          - datasetId
                          - createdAt
                          - statusCode
                          - stage
                          - state
                          - stateCode
                        additionalProperties: false
                        properties:
                          id:
                            type: string
                          datasetId:
                            type: string
                          syncId:
                            type: string
                          userId:
                            type: string
                          owner:
                            type: string
                          createdAt:
                            type: string
                            format: date-time
                          updatedAt:
                            type: string
                            format: date-time
                          statusCode:
                            type: integer
                          stage:
                            type: string
                          timeRemaining:
                            type: string
                          percentComplete:
                            type: string
                          state:
                            type: string
                          stateCode:
                            type: integer
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_8
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_8
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_8
  '/datasets/{uuid}/validations':
    get:
      tags:
        - validation
      summary: List dataset validations
      description: Get a list of known validations for a specific dataset
      operationId: getDatasetValidations
      security:
        - auth0: []
      parameters:
        - name: uuid
          in: path
          description: Dataset ID
          required: true
          schema:
            type: string
        - name: type
          in: query
          description: Validation type
          required: false
          schema:
            type: string
            enum:
              - rtk
              - cps
        - name: authorization
          in: header
          description: Organization's access token
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - next
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      next:
                        type: string
                        description: Link to next set of items
                      type:
                        type: string
                        description: Response item data type
                      data:
                        type: array
                        description: List of items
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          required:
                            - datasetUuid
                            - createdAt
                            - updatedAt
                            - errors
                            - status
                            - type
                          additionalProperties: false
                          properties:
                            datasetUuid:
                              type: string
                            createdAt:
                              type: string
                              format: date-time
                            updatedAt:
                              type: string
                              format: date-time
                            errors:
                              type: array
                              items:
                                type: object
                                required:
                                  - name
                                  - message
                                  - code
                                properties:
                                  name:
                                    type: string
                                  message:
                                    type: string
                                  code:
                                    type: integer
                            status:
                              type: string
                              enum:
                                - started
                                - finished
                                - failed
                                - aborted
                                - scheduled
                            type:
                              type: string
                              enum:
                                - rtk
                                - cps
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_9
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '403':
          description: Forbidden
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_9
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_9
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_9
    post:
      tags:
        - validation
      summary: Create validations for given dataset
      description: Initiates the validation of images and/or ccrs in the dataset
      operationId: createDatasetValidations
      security:
        - auth0: []
      parameters:
        - name: uuid
          in: path
          description: Dataset ID
          required: true
          schema:
            type: string
        - name: authorization
          in: header
          description: Organization's access token
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              properties:
                type:
                  type: string
                  description: Type of validation to run
                data:
                  type: object
                  description: Validation input such as images or ccrs
                  properties:
                    images:
                      type: array
                      description: Metadata for images to validate
                      items:
                        type: object
                        additionalProperties: true
                        properties:
                          filename:
                            type: string
                          date:
                            type: number
                          GPSLatitude:
                            type: number
                          GPSLatitudeRef:
                            type: string
                            enum:
                              - S
                              - E
                              - 'N'
                              - W
                          GPSLongitude:
                            type: number
                          GPSLongitudeRef:
                            type: string
                            enum:
                              - S
                              - E
                              - 'N'
                              - W
                          UserComment:
                            type: string
                    ccrs:
                      type: object
                      description: Input ccrs to be validated
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - next
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      next:
                        type: string
                        description: Link to next set of items
                      type:
                        type: string
                        description: Response item data type
                      data:
                        type: array
                        description: List of items
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          required:
                            - datasetUuid
                            - createdAt
                            - updatedAt
                            - errors
                            - status
                            - type
                          additionalProperties: false
                          properties:
                            datasetUuid:
                              type: string
                            createdAt:
                              type: string
                              format: date-time
                            updatedAt:
                              type: string
                              format: date-time
                            errors:
                              type: array
                              items:
                                type: object
                                required:
                                  - name
                                  - message
                                  - code
                                properties:
                                  name:
                                    type: string
                                  message:
                                    type: string
                                  code:
                                    type: integer
                            status:
                              type: string
                              enum:
                                - started
                                - finished
                                - failed
                                - aborted
                                - scheduled
                            type:
                              type: string
                              description: Type of validation to run
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_10
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '403':
          description: Forbidden
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_10
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_10
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_10
  '/datasets/{uuid}/files/{id}':
    delete:
      tags:
        - file
      summary: Delete datasets file
      description: Backup file as .del and remove the original
      operationId: deleteDatasetFile
      security:
        - auth0: []
      parameters:
        - name: uuid
          in: path
          description: Dataset ID
          required: true
          schema:
            type: string
        - name: id
          in: path
          description: File ID
          required: true
          schema:
            type: string
        - name: authorization
          in: header
          description: Organization's access token
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_11
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '403':
          description: Forbidden
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_11
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_11
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_11
  '/datasets/{uuid}/files':
    delete:
      tags:
        - file
      summary: Delete datasets files
      description: >-
        Find files of given type, back them up as .del and remove the original
        files
      operationId: deleteDatasetFiles
      security:
        - auth0: []
      parameters:
        - name: uuid
          in: path
          description: Dataset ID
          required: true
          schema:
            type: string
        - name: type
          in: query
          description: File type
          schema:
            type: string
          required: true
        - name: authorization
          in: header
          description: Organization's access token
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_12
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '403':
          description: Forbidden
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_12
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_12
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_12
  '/designfiles/{uuid}':
    get:
      tags:
        - dataset
        - design files
      summary: Gets design files
      description: Retrieves processed design files for a dataset
      operationId: getDesignFiles
      security:
        - auth0: []
      parameters:
        - name: uuid
          in: path
          description: Designfile identifier
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        required:
                          - uuid
                          - state
                          - stateCode
                          - input
                          - output
                        additionalProperties: false
                        type: object
                        properties:
                          uuid:
                            type: string
                            description: The designfile job identifier
                          state:
                            type: string
                            description: The current state of the job
                          stateCode:
                            type: number
                            description: The current stateCode of the job
                          dimension:
                            type: string
                            description: The dimension of the design file
                          type:
                            type: string
                            description: The type of the design file
                          input:
                            type: array
                            items:
                              type: object
                          output:
                            type: array
                            items:
                              type: object
        '400':
          description: Bad request
          headers:
            Access-Control-Allow-Headers:
              schema:
                type: string
              description: Access Control Allow Headers
            Access-Control-Allow-Origin:
              schema:
                type: string
              description: Access Control Allow Origin
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
          content:
            application/json:
              schema: &ref_13
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '403':
          description: Forbidden
          headers:
            Access-Control-Allow-Headers:
              schema:
                type: string
              description: Access Control Allow Headers
            Access-Control-Allow-Origin:
              schema:
                type: string
              description: Access Control Allow Origin
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
          content:
            application/json:
              schema: *ref_13
        '404':
          description: Not found
          headers:
            Access-Control-Allow-Headers:
              schema:
                type: string
              description: Access Control Allow Headers
            Access-Control-Allow-Origin:
              schema:
                type: string
              description: Access Control Allow Origin
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
          content:
            application/json:
              schema: *ref_13
        5XX:
          description: Server error
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
          content:
            application/json:
              schema: *ref_13
  '/edge1/{uuid}/version':
    get:
      tags:
        - edge1
        - ucu
        - version
        - balena
      summary: Get latest version info
      description: Get latest version information for a given device id
      operationId: getDeviceRelease
      parameters:
        - name: uuid
          in: path
          description: Id of the device to determine latests software version
          schema:
            type: string
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        type: object
                        required:
                          - release
                        additionalProperties: false
                        properties:
                          release:
                            type: object
                            required:
                              - id
                              - commit
                            additionalProperties: false
                            properties:
                              id:
                                type: number
                              commit:
                                type: string
                              status:
                                type: string
                              timestamp:
                                type: string
                              notes:
                                type: string
                              version:
                                type: string
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_14
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_14
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_14
  /email/send:
    post:
      tags:
        - email
      summary: Send email
      description: Send email
      operationId: sendEmail
      security:
        - auth0: []
      parameters:
        - name: api_key
          in: query
          description: API Key
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              properties:
                method:
                  type: string
                  description: The sending method name
                  enum:
                    - sendEmail
                    - sendTemplatedEmail
                    - sendBulkTemplatedEmail
                  default: sendEmail
                from:
                  type: string
                  description: Email sender
                to:
                  type: string
                  description: Email recipient
                subject:
                  type: string
                  description: Email subject
                html:
                  type: string
                  description: Email body as HTML
                text:
                  type: string
                  description: Email body as text
                template:
                  type: string
                  description: Template name
                  enum:
                    - dh-invitation
                data:
                  type: object
                  description: Template data
                destinations:
                  type: array
                  description: Bulk template destinations
                  items:
                    type: object
                    properties:
                      email:
                        type: string
                        description: Email recipient
                      data:
                        type: object
                        description: Template data
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        type: object
                        required:
                          - message
                        additionalProperties: false
                        properties:
                          message:
                            type: string
                            description: Feedback message
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_15
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_15
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_15
  /exports:
    post:
      tags:
        - exports
      summary: Export Job
      description: Export Job
      operationId: createExportsJob
      security:
        - auth0: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              additionalProperties: false
              type: object
              required:
                - puuid
                - type
              properties:
                puuid:
                  type: string
                  description: Processing Job UUID
                duuid:
                  type: string
                  description: Dataset UUID
                type:
                  type: string
                  description: Export type
                  enum:
                    - contour-lines
                dryrun:
                  type: boolean
                  description: Create export job entry without starting the job
                payload:
                  type: object
                  oneOf:
                    - additionalProperties: false
                      description: Export parameters
                      required:
                        - majorInterval
                      properties:
                        majorInterval:
                          type: number
                          description: >-
                            Major interval between the contour lines in the
                            given units of the elevation raster
                        minorInterval:
                          type: number
                          description: >-
                            Minor interval between the contour lines in the
                            given units of the elevation raster
                        minElevation:
                          type: number
                          description: Minimum elevation range of the contours
                        maxElevation:
                          type: number
                          description: Maximum elevation range of the contours
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        type: object
                        required:
                          - id
                        additionalProperties: false
                        properties:
                          id:
                            type: string
                          puuid:
                            type: string
                          duuid:
                            type: string
                          type:
                            type: string
                          payload:
                            type: object
                          status:
                            type: string
                          state:
                            type: object
                          created_at:
                            type: string
                          updated_at:
                            type: string
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_16
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_16
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_16
  '/exports/{id}':
    get:
      tags:
        - exports
      summary: Export Job
      description: Export Job
      operationId: getExportsJob
      security:
        - auth0: []
      parameters:
        - name: id
          in: path
          description: Export job identifier
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        type: object
                        required:
                          - id
                        additionalProperties: false
                        properties:
                          id:
                            type: string
                          puuid:
                            type: string
                          duuid:
                            type: string
                          type:
                            type: string
                          payload:
                            type: object
                          status:
                            type: string
                          state:
                            type: object
                          created_at:
                            type: string
                          updated_at:
                            type: string
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_17
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_17
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_17
  /flightlogs:
    post:
      tags:
        - flightlog
      summary: Create flight log
      description: Create flith log
      operationId: createFlightLog
      security:
        - auth0: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              oneOf:
                - additionalProperties: false
                  type: object
                  required:
                    - service
                    - token
                    - app
                    - file
                  properties:
                    service:
                      type: string
                      enum:
                        - AirData
                        - DroneLogbook
                    token:
                      type: string
                      description: Authentication token
                    app:
                      type: string
                      description: Application name unique for Airdata
                    file:
                      type: string
                      description: Flight log file path on S3
                - additionalProperties: false
                  type: object
                  required:
                    - service
                    - user
                    - pass
                    - file
                  properties:
                    service:
                      type: string
                      enum:
                        - AirData
                        - DroneLogbook
                    user:
                      type: string
                      description: User name
                    pass:
                      type: string
                      description: Password
                    server:
                      type: string
                      description: Custom server name
                      default: 'https://www.dronelogbook.com'
                    file:
                      type: string
                      description: Flight log file path on S3
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        type: object
                        required:
                          - uuid
                          - file
                          - service
                          - state
                          - status
                          - created_at
                          - updated_at
                        additionalProperties: false
                        properties:
                          uuid:
                            type: string
                            description: ID
                          file:
                            type: string
                            description: Log file path on S3
                          service:
                            type: string
                            description: Service name
                            enum:
                              - AirData
                              - DroneLogbook
                          token:
                            type: string
                            description: Authentication token
                          user:
                            type: string
                            description: User name
                          pass:
                            type: string
                            description: Password
                          app:
                            type: string
                            description: Unique app name in AirData
                          server:
                            type: string
                            description: Custom server name in DroneLogbook
                          state:
                            type: string
                            description: Upload state
                            enum:
                              - scheduled
                              - started
                              - finished
                              - failed
                              - aborted
                              - paused
                            default: scheduled
                          status:
                            type: number
                            description: Upload status code
                            minimum: 10000
                            maximum: 59999
                            default: 10000
                          created_at:
                            type: string
                            description: Created at date
                          updated_at:
                            type: string
                            description: Updated at date
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_18
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_18
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_18
  '/flightlogs/{uuid}':
    get:
      tags:
        - flight-log
      summary: Get flight log
      description: Get flight log
      operationId: getFlightLog
      security:
        - auth0: []
      parameters:
        - name: uuid
          in: path
          description: Flight log identifier
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        type: object
                        required:
                          - uuid
                          - file
                          - service
                          - state
                          - status
                          - created_at
                          - updated_at
                        additionalProperties: false
                        properties:
                          uuid:
                            type: string
                            description: ID
                          file:
                            type: string
                            description: Log file path on S3
                          service:
                            type: string
                            description: Service name
                            enum:
                              - AirData
                              - DroneLogbook
                          token:
                            type: string
                            description: Authentication token
                          user:
                            type: string
                            description: User name
                          pass:
                            type: string
                            description: Password
                          app:
                            type: string
                            description: Unique app name in AirData
                          server:
                            type: string
                            description: Custom server name in DroneLogbook
                          state:
                            type: string
                            description: Upload state
                            enum:
                              - scheduled
                              - started
                              - finished
                              - failed
                              - aborted
                              - paused
                            default: scheduled
                          status:
                            type: number
                            description: Upload status code
                            minimum: 10000
                            maximum: 59999
                            default: 10000
                          created_at:
                            type: string
                            description: Created at date
                          updated_at:
                            type: string
                            description: Updated at date
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_19
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_19
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_19
  /geoids:
    get:
      tags:
        - geoids
      summary: Get a list of known geoids for a specific location (lat/lon)
      description: Get a list of known geoids for a specific location (lat/lon)
      operationId: getGeoids
      parameters:
        - name: lon
          in: query
          description: Longitude
          required: false
          schema:
            type: number
            nullable: true
        - name: lat
          in: query
          description: Latitude
          required: false
          schema:
            type: number
            nullable: true
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - next
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      next:
                        type: string
                        description: Link to next set of items
                      type:
                        type: string
                        description: Response item data type
                      data:
                        type: array
                        description: List of items
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        type: array
                        description: An array of matching Geoids
                        items:
                          type: object
                          description: A Geoid object
                          properties:
                            models:
                              type: array
                              items:
                                type: object
                                properties:
                                  name:
                                    type: string
                                  cols:
                                    type: number
                                  maxlat:
                                    type: number
                                  maxlon:
                                    type: number
                                  minlat:
                                    type: number
                                  minlon:
                                    type: number
                                  rows:
                                    type: number
                                  spacingLat:
                                    type: number
                                  spacingLon:
                                    type: number
        '400':
          description: Bad request
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema: &ref_20
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        5XX:
          description: Server error
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema: *ref_20
  '/geoids/{id}/height':
    get:
      tags:
        - something
      summary: Something
      description: Something
      operationId: getGeoidsHeight
      parameters:
        - name: id
          in: path
          description: Geoid
          required: true
          schema:
            type: string
        - name: lat
          in: query
          description: Latitude
          required: true
          schema:
            type: number
        - name: lon
          in: query
          description: Longtitude
          required: true
          schema:
            type: number
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        type: object
                        required:
                          - lat
                          - lon
                          - geoidHeight
                          - geoid
                        additionalProperties: false
                        properties:
                          lat:
                            type: number
                          lon:
                            type: number
                          geoidHeight:
                            type: number
                          geoid:
                            type: string
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_21
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_21
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_21
  /integrations:
    post:
      tags:
        - integrations
      summary: Third-party Integration Job
      description: Create Third-party Integration Job
      operationId: createIntegrationJob
      security:
        - auth0: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              additionalProperties: true
              type: object
              required:
                - puuid
                - duuid
                - account
                - provider
                - payload
              properties:
                puuid:
                  type: string
                  description: Processing Job UUID
                duuid:
                  type: string
                  description: Dataset UUID
                account:
                  type: string
                  description: >-
                    Account ID used to authorize the OAuth app (where
                    applicable)
                provider:
                  type: string
                  enum:
                    - autodesk/bim360-file-upload
                    - azure/blob-storage-file-upload
                  description: Provider ID (OAuth App ID)
                payload:
                  type: object
                  description: Integration configuration
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        type: object
                        required:
                          - uuid
                        additionalProperties: false
                        properties:
                          uuid:
                            type: string
                          puuid:
                            type: string
                          duuid:
                            type: string
                          account:
                            type: string
                          provider:
                            type: string
                          payload:
                            type: object
                          status:
                            type: string
                          created_at:
                            type: string
                          updated_at:
                            type: string
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_22
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_22
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_22
  /measure/elevations:
    post:
      tags:
        - measurements
      summary: Something
      description: Something
      operationId: measureSurfaceElevation
      security:
        - auth0: []
      parameters:
        - name: compact
          in: query
          description: True to compact the elevation deltas
          required: false
          schema:
            type: boolean
            default: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - surfaceId
                - surfaceType
                - level
                - feature
              additionalProperties: false
              type: object
              properties:
                surfaceId:
                  type: string
                  description: Processing Job UUID
                surfaceType:
                  type: string
                  description: Surface type
                level:
                  type: number
                  description: Zoom level
                feature:
                  type: object
                  properties:
                    type:
                      type: string
                    geometry:
                      type: object
                      properties:
                        type:
                          type: string
                        coordinates:
                          type: array
                          description: Coordinates
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        type: object
                        required:
                          - elevations
                        additionalProperties: false
                        properties:
                          elevations:
                            type: array
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_23
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_23
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_23
  /measure/progress:
    post:
      tags:
        - measurements
      summary: Trigger progress tracking pipeline
      description: >-
        Consumers trigger the progress tracking pipeline and are being notified
        by a callback sent to this endpoint
      operationId: measureProgress
      security:
        - auth0: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - initialSurface
                - finalSurface
                - processingJobs
                - bounds
                - changeThreshold
                - callback
              additionalProperties: false
              type: object
              properties:
                id:
                  type: string
                  description: The report identifier
                initialSurface:
                  type: object
                  description: Initial surface
                  properties:
                    id:
                      type: string
                      description: Processing Job UUID
                    type:
                      type: string
                      enum:
                        - dtm
                        - dsm
                      description: Terrain Type
                finalSurface:
                  type: object
                  description: Final surface
                  properties:
                    id:
                      type: string
                      description: Processing Job UUID
                    type:
                      type: string
                      enum:
                        - dtm
                        - dsm
                      description: Terrain Type
                processingJobs:
                  type: array
                  items:
                    type: object
                    properties:
                      id:
                        type: string
                        description: Processing Job UUID
                      type:
                        type: string
                        enum:
                          - dtm
                          - dsm
                        description: Terrain Type
                level:
                  type: number
                  description: Zoom level
                bounds:
                  type: object
                  properties:
                    type:
                      type: string
                    properties:
                      type: object
                    geometry:
                      type: object
                      properties:
                        type:
                          type: string
                        coordinates:
                          type: array
                changeThreshold:
                  type: number
                callback:
                  type: object
                  properties:
                    url:
                      type: string
                    accessToken:
                      type: string
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        type: object
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_24
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_24
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_24
  '/measure/{type}/{id}':
    get:
      tags:
        - measurement
      summary: Retrieve the status and result of a measurement job
      description: Retrieve the status and result of a measurement job
      operationId: getMeasurementResult
      security:
        - auth0: []
      parameters:
        - name: type
          in: path
          description: Measurement Type
          required: true
          schema:
            type: string
            enum:
              - basic_volume
              - cut_fill_volume
              - progress
        - name: id
          in: path
          description: Measurement ID
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        type: object
                        required:
                          - id
                          - state
                          - statusCode
                          - createdAt
                          - updatedAt
                        additionalProperties: false
                        properties:
                          id:
                            type: string
                          changeset:
                            type: string
                          state:
                            type: string
                          statusCode:
                            type: number
                            format: date-time
                          createdAt:
                            type: string
                            format: date-time
                          updatedAt:
                            type: string
                          result:
                            type: object
                            additionalProperties: false
                            properties:
                              area2d:
                                type: number
                              cut:
                                type: number
                              fill:
                                type: number
                              net:
                                type: number
                              total:
                                type: number
                              fillToDate:
                                type: number
                              fillProgress:
                                type: number
                              overfill:
                                type: number
                              totalFill:
                                type: number
                              cutToDate:
                                type: number
                              cutProgress:
                                type: number
                              totalCut:
                                type: number
                              overcut:
                                type: number
                              lowestPoint:
                                type: array
                              highestPoint:
                                type: array
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_25
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_25
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_25
  '/measure/aggregate/{type}':
    post:
      tags:
        - measurement
      summary: Measure Aggregate Volume
      description: Measure Aggregate Volume
      operationId: measureAggregateVolume
      security:
        - auth0: []
      parameters:
        - name: type
          in: path
          description: Measurement Type
          required: true
          schema:
            type: string
            enum:
              - basic_volume
              - cut_fill_volume
              - progress
        - name: dryrun
          in: query
          description: Create measurement entry without starting the job
          schema:
            type: boolean
            default: false
        - name: refresh
          in: query
          description: Force re-calculation of a measurement
          schema:
            type: boolean
            default: false
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - level
                - feature
              additionalProperties: false
              type: object
              properties:
                surfaceId:
                  type: string
                  description: Processing Job UUID
                surfaceType:
                  type: string
                  description: Surface type
                surfaces:
                  type: array
                  items:
                    type: object
                    additionalProperties: false
                    properties:
                      id:
                        type: string
                        description: Processing Job UUID
                      type:
                        type: string
                        description: Surface type
                        enum:
                          - dtm
                          - dsm
                          - terrain
                          - design
                level:
                  type: number
                  description: Zoom level
                feature:
                  type: object
                  properties:
                    type:
                      type: string
                    geometry:
                      type: object
                      properties:
                        type:
                          type: string
                        coordinates:
                          type: array
                          description: Coordinates
                basePlane:
                  type: object
                  description: >-
                    Baseplane to compare the surface against for basic_volume
                    measurements.
                  properties:
                    type:
                      type: string
                      default: interpolated
                      enum:
                        - interpolated
                        - lowestElevation
                        - customElevation
                        - customShape
                    height:
                      type: number
                      description: Required for "customElevation" or "lowestElevation"
                changeThreshold:
                  type: number
                  minimum: 0
                  description: >-
                    Changes below this threshold will be ignored when
                    calculating progress measurements.
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        type: object
                        required:
                          - id
                          - state
                          - statusCode
                          - createdAt
                          - updatedAt
                        additionalProperties: false
                        properties:
                          id:
                            type: string
                          changeset:
                            type: string
                            description: >-
                              Changeset ID, only available for progress
                              measurements
                          state:
                            type: string
                          statusCode:
                            type: number
                            format: date-time
                          createdAt:
                            type: string
                            format: date-time
                          updatedAt:
                            type: string
                          result:
                            type: object
                            additionalProperties: false
                            properties:
                              area2d:
                                type: number
                              cut:
                                type: number
                              fill:
                                type: number
                              net:
                                type: number
                              total:
                                type: number
                              fillToDate:
                                type: number
                              fillProgress:
                                type: number
                              overfill:
                                type: number
                              totalFill:
                                type: number
                              cutToDate:
                                type: number
                              cutProgress:
                                type: number
                              totalCut:
                                type: number
                              overcut:
                                type: number
                              lowestPoint:
                                type: array
                              highestPoint:
                                type: array
                          report:
                            type: object
                            additionalProperties: false
                            properties:
                              area2d:
                                type: number
                              cut:
                                type: number
                              fill:
                                type: number
                              net:
                                type: number
                              total:
                                type: number
                              fillToDate:
                                type: number
                              fillProgress:
                                type: number
                              overfill:
                                type: number
                              totalFill:
                                type: number
                              cutToDate:
                                type: number
                              cutProgress:
                                type: number
                              totalCut:
                                type: number
                              overcut:
                                type: number
                              lowestPoint:
                                type: array
                              highestPoint:
                                type: array
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_26
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_26
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_26
  /measure/surface:
    post:
      tags:
        - measurement
      summary: Measure Aggregate Volume
      description: Measure Aggregate Volume
      operationId: measureSurface
      security:
        - auth0: []
      parameters:
        - name: refresh
          in: query
          description: Re-calculate measurement
          required: false
          schema:
            type: boolean
      requestBody:
        required: true
        content:
          application/json:
            schema:
              oneOf:
                - type: object
                  description: Request body
                  additionalProperties: false
                  required:
                    - surfaces
                    - level
                    - feature
                  properties:
                    surfaces:
                      type: array
                      items:
                        type: object
                        description: Surface PUUID and its type
                        additionalProperties: false
                        required:
                          - id
                          - type
                        properties:
                          id:
                            type: string
                            description: Processing Job UUID
                          type:
                            type: string
                            description: Surface type
                            enum:
                              - dtm
                              - dsm
                              - terrain
                              - design
                    level:
                      type: number
                      description: Zoom level
                    basePlane:
                      type: object
                      description: >-
                        Baseplane to compare the surface against for
                        basic_volume measurements.
                      required:
                        - type
                      properties:
                        type:
                          type: string
                          default: interpolated
                          enum:
                            - interpolated
                            - lowestElevation
                            - customElevation
                            - customShape
                        height:
                          type: number
                          description: Required for "customElevation" or "lowestElevation"
                    feature:
                      type: object
                      properties: &ref_27
                        id:
                          type: string
                          description: Feature identifier
                        type:
                          type: string
                          description: Feature type
                          enum:
                            - Feature
                        properties:
                          type: object
                          description: Feature properties
                        geometry:
                          type: object
                          properties:
                            type:
                              type: string
                              description: Geometry type
                              enum:
                                - Polygon
                            coordinates:
                              type: array
                              description: Coordinates
                              items:
                                type: array
                                items:
                                  type: array
                                  items:
                                    - type: number
                                      description: Longitude
                                    - type: number
                                      description: Latitude
                                    - type: number
                                      description: Elevation
                                    - type: string
                                      description: Point index
                    callback:
                      type: string
                      description: >-
                        Callback URL to invoke once the measurement is done
                        (async mode)
                      pattern: '^https?:\/\/'
                - type: object
                  description: Request body
                  additionalProperties: false
                  required:
                    - batch
                  properties:
                    batch:
                      type: array
                      items:
                        type: object
                        description: Measure surface payload
                        additionalProperties: false
                        required:
                          - surfaces
                          - level
                          - feature
                        properties:
                          surfaces:
                            type: array
                            items:
                              type: object
                              description: Surface PUUID and its type
                              additionalProperties: false
                              required:
                                - id
                                - type
                              properties:
                                id:
                                  type: string
                                  description: Processing Job UUID
                                type:
                                  type: string
                                  description: Surface type
                                  enum:
                                    - dtm
                                    - dsm
                                    - terrain
                                    - design
                          level:
                            type: number
                            description: Zoom level
                          basePlane:
                            type: object
                            description: >-
                              Baseplane to compare the surface against for
                              basic_volume measurements.
                            required:
                              - type
                            properties:
                              type:
                                type: string
                                default: interpolated
                                enum:
                                  - interpolated
                                  - lowestElevation
                                  - customElevation
                                  - customShape
                              height:
                                type: number
                                description: >-
                                  Required for "customElevation" or
                                  "lowestElevation"
                          feature:
                            type: object
                            properties: *ref_27
                    callback:
                      type: string
                      description: >-
                        Callback URL to invoke once the measurement is done
                        (async mode)
                      pattern: '^https?:\/\/'
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        type: object
                        required:
                          - id
                          - owner
                          - status
                          - params
                          - created_at
                          - updated_at
                        additionalProperties: false
                        properties:
                          id:
                            type: string
                            description: The hashed request parameters
                          owner:
                            type: string
                            description: Organization identifier
                          status:
                            type: string
                            description: Execution status
                            enum:
                              - RUNNING
                              - SUCCEEDED
                              - FAILED
                              - TIMED_OUT
                              - ABORTED
                          params:
                            oneOf:
                              - type: string
                                description: S3 URL to input params JSON
                              - type: object
                                description: Input parameters object
                          result:
                            oneOf:
                              - type: array
                                items:
                                  type: object
                                  additionalProperties: false
                                  properties: &ref_28
                                    id:
                                      type: string
                                      description: Polygon feature identifier
                                    area2d:
                                      type: number
                                      description: Horizontal Surface area (m2)
                                    total:
                                      type: number
                                      description: Total volume (m3)
                                    net:
                                      type: number
                                      description: Net volume (m3)
                                    cut:
                                      type: number
                                      description: Cut (m3)
                                    fill:
                                      type: number
                                      description: Fill (m3)
                              - type: object
                                additionalProperties: false
                                properties: *ref_28
                          created_at:
                            type: string
                            description: Creation time
                          updated_at:
                            type: string
                            description: Last updated time
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_29
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_29
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_29
  /metadata:
    get:
      tags:
        - something
      summary: Something
      description: Something
      operationId: getMetadata
      security:
        - auth0: []
      parameters:
        - name: duuid
          in: query
          description: Dataset UUID
          required: false
          schema:
            type: string
        - name: puuid
          in: query
          description: Processing job UUID
          required: false
          schema:
            type: string
        - name: path
          in: query
          description: Object path to return
          required: false
          schema:
            type: string
        - name: resolve
          in: query
          description: Comma separated list of entities to resolve
          required: false
          schema:
            type: string
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                oneOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - required:
                      - statusCode
                      - requestId
                      - next
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      next:
                        type: string
                        description: Link to next set of items
                      type:
                        type: string
                        description: Response item data type
                      data:
                        type: array
                        description: List of items
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_30
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_30
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_30
    patch:
      tags:
        - something
      summary: Something
      description: Something
      operationId: updateMetadata
      security:
        - auth0: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              additionalProperties: false
              required:
                - puuid
                - path
              properties:
                puuid:
                  type: string
                  description: Processing job UUID
                path:
                  type: string
                  description: Path to update
                action:
                  type: string
                  enum:
                    - set
                    - remove
                  default: set
                  description: Action to perform on the path
                value:
                  anyOf:
                    - type: string
                    - type: number
                    - type: integer
                    - type: boolean
                    - type: array
                    - type: object
                  description: Value to set
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                oneOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - required:
                      - statusCode
                      - requestId
                      - next
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      next:
                        type: string
                        description: Link to next set of items
                      type:
                        type: string
                        description: Response item data type
                      data:
                        type: array
                        description: List of items
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_31
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_31
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_31
  /precog-jobs:
    get:
      tags:
        - precog_ui
      summary: Gets All Precog UI Jobs
      description: Gets All Precog UI Jobs
      operationId: getPrecogUIJobs
      parameters:
        - name: count
          in: query
          description: response records count
          required: false
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 100
        - name: next-process_uuid
          in: query
          description: next page token
          required: false
          schema:
            type: string
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - next
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      next:
                        type: string
                        description: Link to next set of items
                      type:
                        type: string
                        description: Response item data type
                      data:
                        type: array
                        description: List of items
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          required:
                            - uuid
                            - status
                          additionalProperties: false
                          properties:
                            uuid:
                              type: string
                            status:
                              type: string
                              enum:
                                - needs-marks
                                - ready-to-process
                                - done
                            updatedAt:
                              type: string
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_32
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_32
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_32
  '/precog-jobs/{uuid}':
    get:
      tags:
        - precog_ui
      summary: Get Precog UI Job
      description: Get Precog UI Job
      operationId: getPrecogUIJob
      parameters:
        - name: uuid
          in: path
          description: Processing Job Identifier
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        type: object
                        required:
                          - controlPoints
                          - marks
                          - images
                        additionalProperties: false
                        properties:
                          controlPoints:
                            type: array
                            description: Control points
                            items:
                              type: object
                              properties:
                                cpId:
                                  type: string
                                name:
                                  type: string
                                x:
                                  type: number
                                lng:
                                  type: number
                                'y':
                                  type: number
                                lat:
                                  type: number
                                z:
                                  type: number
                                alt:
                                  type: number
                                tagId:
                                  type: string
                                type:
                                  type: string
                                utmX:
                                  type: string
                                utmY:
                                  type: string
                                utmZ:
                                  type: string
                                utmZone:
                                  type: string
                          marks:
                            type: object
                            additionalProperties:
                              type: array
                              items:
                                type: object
                                properties:
                                  cpId:
                                    type: string
                                  x:
                                    type: number
                                  'y':
                                    type: number
                          images:
                            type: array
                            items:
                              type: object
                              properties:
                                filename:
                                  type: string
                                tag:
                                  type: object
                                  properties:
                                    Make:
                                      type: string
                                    Model:
                                      type: string
                                    Orientation:
                                      type: string
                                    GPSLatitudeRef:
                                      type: string
                                    GPSLatitude:
                                      type: number
                                    GPSLongitudeRef:
                                      type: string
                                    GPSLongitude:
                                      type: string
                                    GPSAltitudeRef:
                                      type: string
                                    GPSAltitude:
                                      type: number
                                    DateTimeOriginal:
                                      type: integer
                                size:
                                  type: object
                                  properties:
                                    height:
                                      type: integer
                                    width:
                                      type: integer
                                key:
                                  type: string
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_33
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_33
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_33
  '/precog-jobs/{uuid}/process':
    post:
      tags:
        - precog_ui
      summary: Enqueue Precot UI Job
      description: Enqueue Precot UI Job
      operationId: createPrecogUIJob
      parameters:
        - name: uuid
          in: path
          description: Processing Job Identifier
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        required:
                          - puuid
                          - resumeAt
                        additionalProperties: false
                        type: object
                        properties:
                          puuid:
                            type: string
                            description: Processing Job Identifier
                          resumeAt:
                            type: string
                            description: Stage to resume at
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_34
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_34
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_34
  '/precog-jobs/{uuid}/marks/{id}':
    delete:
      tags:
        - precog_ui_job_marks
      summary: Delete marks for a specific precog job
      description: Delete marks for a specific precog job
      operationId: deletePrecogUiMarks
      parameters:
        - name: uuid
          in: path
          description: Processing Job Identifier
          required: false
          schema:
            type: string
        - name: id
          in: path
          description: Marks Identifier
          required: false
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              properties:
                cpId:
                  type: string
                imageId:
                  type: string
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                oneOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - required:
                      - statusCode
                      - requestId
                      - next
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      next:
                        type: string
                        description: Link to next set of items
                      type:
                        type: string
                        description: Response item data type
                      data:
                        type: array
                        description: List of items
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_35
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_35
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_35
    patch:
      tags:
        - precog_ui_job_marks
      summary: Update precog-ui marks
      description: Update precog-ui marks
      operationId: updatePrecogUIMarks
      parameters:
        - name: uuid
          in: path
          description: Processing Job Identifier
          required: false
          schema:
            type: string
        - name: id
          in: path
          description: Marks Identifier
          required: false
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              properties:
                cpId:
                  type: string
                imageId:
                  type: string
                x:
                  type: number
                'y':
                  type: number
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        type: object
                        required:
                          - markId
                          - cpId
                          - imageId
                          - x
                          - 'y'
                        additionalProperties: false
                        properties:
                          markId:
                            type: string
                          cpId:
                            type: string
                          imageId:
                            type: string
                          x:
                            type: number
                          'y':
                            type: number
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_36
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_36
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_36
  '/processes/{uuid}':
    get:
      tags:
        - processing_job
      summary: Get Processing Job
      description: Get Processing Job
      operationId: getProcessingJob
      security:
        - auth0: []
      parameters:
        - name: uuid
          in: path
          description: Processing Job identifier
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        required:
                          - uuid
                          - datasetId
                          - createdAt
                        additionalProperties: false
                        type: object
                        properties:
                          uuid:
                            type: string
                            description: Processing Job Identifier
                          userId:
                            type: string
                            description: Dataset owner identifier
                          owner:
                            type: string
                          datasetId:
                            type: string
                            description: Dataset Identifier
                          state:
                            type: string
                          stateCode:
                            type: number
                          stage:
                            type: string
                          statusCode:
                            type: number
                          percentComplete:
                            type: number
                          timeRemaining:
                            type: number
                          createdAt:
                            type: string
                            format: date-time
                          updatedAt:
                            type: string
                            format: date-time
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_37
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_37
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_37
  '/processes/{uuid}/result':
    get:
      tags:
        - dataset
      summary: List Processing Job Results
      description: List Processing Job Results
      operationId: getProcessingResults
      security:
        - auth0: []
      parameters:
        - name: uuid
          in: path
          description: Processing Job ID
          required: false
          schema:
            type: string
        - name: layers
          in: query
          description: Toggle layers in response object
          required: false
          schema:
            type: boolean
        - name: files
          in: query
          description: Toggle files in response object
          required: false
          schema:
            type: boolean
        - name: exportTypes
          in: query
          description: Export Types
          required: false
          schema:
            type: array
        - name: expiration
          in: query
          description: Expiration time in seconds for all output file and layer links
          required: false
          schema:
            type: number
        - name: layer
          in: query
          description: Request specific layer(s)
          required: false
          schema:
            type: string
            enum:
              - orthomosaic
              - terrain
              - terrain-dtm
              - pointcloud
              - groundreturn
              - groundreturn-removed-objects
              - wmts
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        type: object
                        additionalProperties: false
                        properties:
                          files:
                            type: array
                            items:
                              type: object
                              additionalProperties: false
                              properties:
                                key:
                                  type: string
                                  description: File path
                                name:
                                  type: string
                                  description: File name
                                type:
                                  type: string
                                resolution:
                                  type: string
                                projection:
                                  type: string
                                bucket:
                                  type: string
                                url:
                                  type: string
                                expires:
                                  type: number
                                size:
                                  type: number
                                lastModified:
                                  type: string
                                storageClass:
                                  type: string
                                eTag:
                                  type: string
                          layers:
                            type: array
                            items:
                              type: object
                              additionalProperties: false
                              properties:
                                type:
                                  type: string
                                bucket:
                                  type: string
                                path:
                                  type: string
                                url:
                                  type: string
                                expires:
                                  type: number
                                bbox:
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    minX:
                                      type: number
                                    minY:
                                      type: number
                                    maxX:
                                      type: number
                                    maxY:
                                      type: number
                                ccrs:
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    proj4:
                                      type: string
                                    epsgCode:
                                      type: string
                                    params:
                                      type: object
                                elevation:
                                  type: object
                                  additionalProperties: false
                                  properties:
                                    min:
                                      type: number
                                    max:
                                      type: number
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_38
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_38
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_38
  '/processes/{uuid}/resume':
    post:
      tags:
        - processing_job
      summary: Resume Processing Job
      description: Resume Processing Job
      operationId: resumeProcessingJob
      parameters:
        - name: uuid
          in: path
          description: Processing Job Identifier
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              properties:
                apikey:
                  type: string
                jumpTo:
                  type: string
                  description: Processing Job Type
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        required:
                          - uuid
                        type: object
                        properties:
                          uuid:
                            type: string
                            description: Processing Job Identifier
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_39
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_39
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_39
  /projections:
    get:
      tags:
        - projections
      summary: Get a list of known projections for a specific location (lat/lon)
      description: Get a list of known projections for a specific location (lat/lon)
      operationId: getProjections
      parameters:
        - name: lon
          in: query
          description: Longitude
          required: false
          schema:
            type: number
            nullable: true
        - name: lat
          in: query
          description: Latitude
          required: false
          schema:
            type: number
            nullable: true
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        type: object
                        additionalProperties:
                          type: object
                          required:
                            - id
                            - name
                            - proj4
                            - bbox
                            - datum
                          additionalProperties: false
                          properties:
                            id:
                              type: number
                            name:
                              type: string
                            proj4:
                              type: string
                            bbox:
                              type: array
                            units:
                              type: string
                            datum:
                              type: object
                              additionalProperties: false
                              properties:
                                name:
                                  type: string
                                  nullable: true
                                code:
                                  type: string
                                  nullable: true
                                ellps:
                                  type: string
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_40
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_40
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_40
  '/sites/{id}':
    post:
      tags:
        - sites
      summary: Store localization file from a site
      description: Store localization file from a site
      operationId: uploadLocalization
      security:
        - auth0: []
      parameters:
        - name: id
          in: path
          description: Site ID
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              properties:
                ccrsFile:
                  type: object
                  description: The file content and properties
                  properties:
                    binaryString:
                      type: string
                    name:
                      type: string
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        type: object
                        additionalProperties: false
                        required:
                          - id
                        properties:
                          id:
                            type: string
                            description: Site ID
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_41
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_41
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_41
  '/support/find/{uuid}':
    get:
      tags:
        - support
      summary: Find UUID
      description: Find data about a given UUID
      operationId: supportFindUUID
      parameters:
        - name: uuid
          in: path
          description: UUID to find
          required: true
          schema:
            type: string
        - name: env
          in: query
          description: Environment to search in
          required: false
          schema:
            type: string
            enum:
              - prod
              - stage
              - legacy
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                oneOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - required:
                      - statusCode
                      - requestId
                      - next
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      next:
                        type: string
                        description: Link to next set of items
                      type:
                        type: string
                        description: Response item data type
                      data:
                        type: array
                        description: List of items
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_42
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_42
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_42
  '/demos/teck/iot/{deviceId}':
    get:
      tags:
        - teck
        - iot
        - demo
      summary: Teck IoT Demo
      description: Get Teck IoT Device Demo Data
      operationId: getDemoTeckIoTDeviceData
      parameters:
        - name: deviceId
          in: path
          description: Device ID
          required: true
          schema:
            type: string
        - name: start
          in: query
          description: Retrieve all events >= the start time.
          required: false
          schema:
            type: number
        - name: end
          in: query
          description: Retrieve all events < the end time.
          required: false
          schema:
            type: number
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                oneOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - required:
                      - statusCode
                      - requestId
                      - next
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      next:
                        type: string
                        description: Link to next set of items
                      type:
                        type: string
                        description: Response item data type
                      data:
                        type: array
                        description: List of items
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_43
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_43
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_43
  /overlays:
    post:
      tags:
        - overlays
      summary: Overlays
      description: Overlays
      operationId: createOverlay
      security:
        - auth0: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              additionalProperties: false
              type: object
              properties:
                uuid:
                  type: string
                  description: The overlay uuid
                geometry:
                  additionalProperties: false
                  type: object
                  required:
                    - bounds
                    - rotation
                  description: 'Geometry of an overlay, includes bounds and rotation.'
                  properties:
                    bounds:
                      additionalProperties: false
                      type: object
                      required:
                        - nw
                        - se
                      description: >-
                        The geographic boundaries of an object, defined by of
                        the uper-left and lower-right points.
                      properties:
                        nw: &ref_44
                          additionalProperties: false
                          type: object
                          required:
                            - lat
                            - lon
                          description: >-
                            A geographic point defined by the latitude and
                            longitude.
                          properties:
                            lat:
                              type: number
                              description: A latitude value
                            lon:
                              type: number
                              description: A longitude value
                        se: *ref_44
                    rotation:
                      type: number
                      description: 'The rotation of the overlay image, in degrees'
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        type: object
                        required:
                          - uuid
                        additionalProperties: false
                        properties:
                          uuid:
                            type: string
                          status:
                            type: string
                            enum:
                              - preview
                              - tilers
                              - succeeded
                              - failed
                          created_at:
                            type: string
                          updated_at:
                            type: string
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_45
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_45
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_45
  '/overlays/{uuid}':
    get:
      tags:
        - overlays
      summary: Get an overlay
      description: Retrieve an overlay information by id
      operationId: getOverlay
      security:
        - auth0: []
      parameters:
        - name: uuid
          in: path
          description: Overlay identifier
          required: true
          schema:
            type: string
        - name: include_urls
          in: query
          description: >-
            True if response should include the signed urls for the preview
            image and tiles folder.
          required: false
          schema:
            type: boolean
      responses:
        '200':
          description: OK
          headers:
            Content-Type:
              schema:
                type: string
              description: Content Type
              required: true
            Access-Control-Allow-Origin:
              schema:
                type: string
            Access-Control-Allow-Headers:
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - required:
                      - statusCode
                      - requestId
                      - type
                      - data
                    additionalProperties: true
                    type: object
                    properties:
                      statusCode:
                        type: number
                        description: Response status code
                      requestId:
                        type: string
                        description: Request unique identifier
                      type:
                        type: string
                        description: Response data type
                      data:
                        type: object
                        description: Response data
                  - type: object
                    required:
                      - data
                    properties:
                      data:
                        type: object
                        required:
                          - uuid
                        additionalProperties: false
                        properties:
                          uuid:
                            type: string
                          preview: &ref_46
                            additionalProperties: false
                            type: object
                            required:
                              - url
                              - expiration
                            description: >-
                              An object describing a temporary cloudfront signed
                              url.
                            properties:
                              url:
                                type: string
                                description: The cloudfront signed url to access the file
                              expiration:
                                type: string
                                description: The timestamp of when the url expires
                          tiles: *ref_46
                          status:
                            type: string
                            enum:
                              - preview
                              - tilers
                              - succeeded
                              - failed
                          geometry:
                            additionalProperties: false
                            type: object
                            required:
                              - bounds
                              - rotation
                            description: >-
                              Geometry of an overlay, includes bounds and
                              rotation.
                            properties:
                              bounds:
                                additionalProperties: false
                                type: object
                                required:
                                  - nw
                                  - se
                                description: >-
                                  The geographic boundaries of an object,
                                  defined by of the uper-left and lower-right
                                  points.
                                properties:
                                  nw: &ref_47
                                    additionalProperties: false
                                    type: object
                                    required:
                                      - lat
                                      - lon
                                    description: >-
                                      A geographic point defined by the latitude
                                      and longitude.
                                    properties:
                                      lat:
                                        type: number
                                        description: A latitude value
                                      lon:
                                        type: number
                                        description: A longitude value
                                  se: *ref_47
                              rotation:
                                type: number
                                description: 'The rotation of the overlay image, in degrees'
                          created_at:
                            type: string
                          updated_at:
                            type: string
        '400':
          description: Bad Request
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: &ref_48
                required:
                  - statusCode
                  - requestId
                  - error
                additionalProperties: false
                type: object
                properties:
                  statusCode:
                    type: number
                    description: Response status code
                  requestId:
                    type: string
                    description: Request unique identifier
                  error:
                    oneOf:
                      - type: object
                      - type: array
                    description: Error object or list of errors
        '404':
          description: Not Found
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_48
        5XX:
          description: Server Error
          headers:
            Content-Type:
              required: true
              schema:
                type: string
            Access-Control-Allow-Origin:
              required: true
              schema:
                type: string
            Access-Control-Allow-Headers:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema: *ref_48
